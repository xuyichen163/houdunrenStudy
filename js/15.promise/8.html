<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>宏任务的提升原来是误解</title>
</head>

<body>

</body>
<script>
    let promise = new Promise(resolve => {
        // setTimeout放在宏任务队列中
        setTimeout(() => {
            console.log("setTimeout");
            resolve();
        },1000);
      
        // resolve执行直接放在微任务队列中
        console.log("run");
    }).then(
        value => {
            console.log("成功");
        }, reason => {
            console.log("失败");
        }
    );
    console.log("last");

    //run last setTimeout 成功
</script>

</html>