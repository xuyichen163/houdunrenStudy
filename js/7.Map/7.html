<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WeakMap的语法使用</title>
</head>

<body>
    <div>yieryi</div>
    <div>chensiyan</div>


    <script>
        // WeakMap 对象是一组键/值对的集
        // 键名必须是对象
        // WeaMap对键名是弱引用的，键值是正常引用
        // 垃圾回收不考虑WeaMap的键名，不会改变引用计数器，键在其他地方不被引用时即删除
        // 因为WeakMap 是弱引用，由于其他地方操作成员可能会不存在，所以不可以进行forEach()遍历等操作
        // 也是因为弱引用，WeaMap 结构没有keys() ，values() ，entries()等方法和 size 属性
        // 当键的外部引用删除时，希望自动删除数据时使用 WeakMap
        let map = new WeakMap();
        let div = document.querySelectorAll('div');
        div.forEach(item => map.set(item, item.innerHTML));
        console.log(map);
        // 添加用set 删除delete 查询has 

    </script>
</body>

</html>